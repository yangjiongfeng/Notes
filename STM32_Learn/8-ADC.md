### ADC概念
ADC（Analogto-Digital Converter）模拟数字转换器，是将模拟信号转换成数字信号的一种外设。

### ADC分辨率
我们平时总说“12位AD采样”--->AD值的取值范围为 0 ~ 2^12-1，即0~4095。如果输入电压是0~3.3V，相当于可以把 3.3 V等分成 4096份；如果是 16 位AD采样，那就相当于可以把3.3V等分成 65536 份。
分辨率强调的是精度，分的份数越多，粒度越细，转换结果也就更精确。


### ADC实现框图
![这是图片](D:/Notes/STM32_Learn/8-ADC/ADC模块结构图.png "Magic Gardens")

##### ADC输入方式（2种）：注入组、规则组
注入组：一次最多可以转换4个通道，转换结果保存到注入组数据寄存器（注入组有4个数据寄存器，每个寄存器长度为16bit）
规则组： 一次最多可以转换 16 个通道，转换结果保存到规则组数据寄存器（规则组只有1个数据寄存器，每个寄存器长度为16bit）。规则组最好搭配 DMA 使用，规则组只有一个寄存器，一旦上层没有及时取走寄存器内的转换结果，寄存器内的结果便会被下一次的结果覆盖。



## 一、ntc热敏电阻公式
NTC 热敏电阻温度计算公式：Rt = R *EXP(B*(1/T1-1/T2))
T1和T2指的是K度，即开尔文温度。
Rt ：热敏电阻在T1温度下的阻值。
R是热敏电阻在T2常温下的标称阻值。100K的热敏电阻25℃的值为100K（即R=100K）。
T2=(273.15+25)
EXP是e的n次方
B值是热敏电阻的重要参数
通过转换可以得到温度T1与电阻Rt的关系T1=1/（ln（Rt/R）/B+1/T2）
对应的摄氏温度t=T1-273.15，同时+0.5的误差矫正。

## 二、硬件连接
单片机是3.3V供电，热敏电阻与100K电阻连接。
热敏电阻参数为100K，B值为3950
![这是图片](D:/Notes/STM32_Learn/8-ADC/热敏电阻硬件设计.png "Magic Gardens")






